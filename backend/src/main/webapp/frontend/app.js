"use strict";(()=>{var Kt=Object.create;var Qe=Object.defineProperty;var Gt=Object.getOwnPropertyDescriptor;var Jt=Object.getOwnPropertyNames;var Wt=Object.getPrototypeOf,Xt=Object.prototype.hasOwnProperty;var d=(i,u)=>()=>(u||i((u={exports:{}}).exports,u),u.exports);var Yt=(i,u,s,l)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of Jt(u))!Xt.call(i,h)&&h!==s&&Qe(i,h,{get:()=>u[h],enumerable:!(l=Gt(u,h))||l.enumerable});return i};var Zt=(i,u,s)=>(s=i!=null?Kt(Wt(i)):{},Yt(u||!i||!i.__esModule?Qe(s,"default",{value:i,enumerable:!0}):s,i));var G=d((zr,Ve)=>{"use strict";function Y(i,u,s,l,h,o){return{tag:i,key:u,attrs:s,children:l,text:h,dom:o,is:void 0,domSize:void 0,state:void 0,events:void 0,instance:void 0}}Y.normalize=function(i){return Array.isArray(i)?Y("[",void 0,void 0,Y.normalizeChildren(i),void 0,void 0):i==null||typeof i=="boolean"?null:typeof i=="object"?i:Y("#",void 0,void 0,String(i),void 0,void 0)};Y.normalizeChildren=function(i){var u=[];if(i.length){for(var s=i[0]!=null&&i[0].key!=null,l=1;l<i.length;l++)if((i[l]!=null&&i[l].key!=null)!==s)throw new TypeError(s&&(i[l]!=null||typeof i[l]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var l=0;l<i.length;l++)u[l]=Y.normalize(i[l])}return u};Ve.exports=Y});var Oe=d((Nr,Be)=>{"use strict";var kt=G();Be.exports=function(){var i=arguments[this],u=this+1,s;if(i==null?i={}:(typeof i!="object"||i.tag!=null||Array.isArray(i))&&(i={},u=this),arguments.length===u+1)s=arguments[u],Array.isArray(s)||(s=[s]);else for(s=[];u<arguments.length;)s.push(arguments[u++]);return kt("",i.key,i,s)}});var fe=d((Rr,Ke)=>{"use strict";Ke.exports={}.hasOwnProperty});var Pe=d((dr,Je)=>{"use strict";var er=G(),tr=Oe(),Ee=fe(),rr=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Ge=Object.create(null);function ir(i){for(var u in i)if(Ee.call(i,u))return!1;return!0}function nr(i){for(var u,s="div",l=[],h={};u=rr.exec(i);){var o=u[1],a=u[2];if(o===""&&a!=="")s=a;else if(o==="#")h.id=a;else if(o===".")l.push(a);else if(u[3][0]==="["){var p=u[6];p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),u[4]==="class"?l.push(p):h[u[4]]=p===""?p:p||!0}}return l.length>0&&(h.className=l.join(" ")),ir(h)&&(h=null),Ge[i]={tag:s,attrs:h}}function ar(i,u){var s=u.attrs,l=Ee.call(s,"class"),h=l?s.class:s.className;return u.tag=i.tag,i.attrs!=null?(s=Object.assign({},i.attrs,s),(h!=null||i.attrs.className!=null)&&(s.className=h!=null?i.attrs.className!=null?String(i.attrs.className)+" "+String(h):h:i.attrs.className!=null?i.attrs.className:null)):h!=null&&(s.className=h),l&&(s.class=null),i.tag==="input"&&Ee.call(s,"type")&&(s=Object.assign({type:s.type},s)),u.is=s.is,u.attrs=s,u}function fr(i){if(i==null||typeof i!="string"&&typeof i!="function"&&typeof i.view!="function")throw Error("The selector must be either a string or a component.");var u=tr.apply(1,arguments);return typeof i=="string"&&(u.children=er.normalizeChildren(u.children),i!=="[")?ar(Ge[i]||nr(i),u):(u.tag=i,u)}Je.exports=fr});var Xe=d((jr,We)=>{"use strict";var ur=G();We.exports=function(i){return i==null&&(i=""),ur("<",void 0,void 0,i,void 0,void 0)}});var Ze=d((Lr,Ye)=>{"use strict";var lr=G(),sr=Oe();Ye.exports=function(){var i=sr.apply(0,arguments);return i.tag="[",i.children=lr.normalizeChildren(i.children),i}});var et=d((Dr,ke)=>{"use strict";var Ae=Pe();Ae.trust=Xe();Ae.fragment=Ze();ke.exports=Ae});var ze=d((Ir,tt)=>{"use strict";var Ce=new WeakMap;function*cr(i){var u=i.dom,s=i.domSize,l=Ce.get(u);if(u!=null)do{var h=u.nextSibling;Ce.get(u)===l&&(yield u,s--),u=h}while(s)}tt.exports={delayedRemoval:Ce,domFor:cr}});var nt=d((Mr,it)=>{"use strict";var Ne=G(),rt=ze(),or=rt.delayedRemoval,Re=rt.domFor;it.exports=function(){var i={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},u,s;function l(t){return t.ownerDocument}function h(t){return t.attrs&&t.attrs.xmlns||i[t.tag]}function o(t,e){if(t.state!==e)throw new Error("'vnode.state' must not be modified.")}function a(t){var e=t.state;try{return this.apply(e,arguments)}finally{o(t,e)}}function p(t){try{return l(t).activeElement}catch{return null}}function q(t,e,r,n,f,c,E){for(var C=r;C<n;C++){var g=e[C];g!=null&&x(t,g,f,E,c)}}function x(t,e,r,n,f){var c=e.tag;if(typeof c=="string")switch(e.state={},e.attrs!=null&&pe(e.attrs,e,r),c){case"#":T(t,e,f);break;case"<":U(t,e,n,f);break;case"[":w(t,e,r,n,f);break;default:S(t,e,r,n,f)}else V(t,e,r,n,f)}function T(t,e,r){e.dom=l(t).createTextNode(e.children),K(t,e.dom,r)}var P={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function U(t,e,r,n){var f=e.children.match(/^\s*?<(\w+)/im)||[],c=l(t).createElement(P[f[1]]||"div");r==="http://www.w3.org/2000/svg"?(c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",c=c.firstChild):c.innerHTML=e.children,e.dom=c.firstChild,e.domSize=c.childNodes.length;for(var E=l(t).createDocumentFragment(),C;C=c.firstChild;)E.appendChild(C);K(t,E,n)}function w(t,e,r,n,f){var c=l(t).createDocumentFragment();if(e.children!=null){var E=e.children;q(c,E,0,E.length,r,null,n)}e.dom=c.firstChild,e.domSize=c.childNodes.length,K(t,c,f)}function S(t,e,r,n,f){var c=e.tag,E=e.attrs,C=e.is;n=h(e)||n;var g=n?C?l(t).createElementNS(n,c,{is:C}):l(t).createElementNS(n,c):C?l(t).createElement(c,{is:C}):l(t).createElement(c);if(e.dom=g,E!=null&&Ht(e,E,n),K(t,g,f),!W(e)&&e.children!=null){var z=e.children;q(g,z,0,z.length,r,null,n),e.tag==="select"&&E!=null&&$t(e,E)}}function J(t,e){var r;if(typeof t.tag.view=="function"){if(t.state=Object.create(t.tag),r=t.state.view,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0}else{if(t.state=void 0,r=t.tag,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0,t.state=t.tag.prototype!=null&&typeof t.tag.prototype.view=="function"?new t.tag(t):t.tag(t)}if(pe(t.state,t,e),t.attrs!=null&&pe(t.attrs,t,e),t.instance=Ne.normalize(a.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null}function V(t,e,r,n,f){J(e,r),e.instance!=null?(x(t,e.instance,r,n,f),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function B(t,e,r,n,f,c){if(!(e===r||e==null&&r==null))if(e==null||e.length===0)q(t,r,0,r.length,n,f,c);else if(r==null||r.length===0)te(t,e,0,e.length);else{var E=e[0]!=null&&e[0].key!=null,C=r[0]!=null&&r[0].key!=null,g=0,z=0;if(!E)for(;z<e.length&&e[z]==null;)z++;if(!C)for(;g<r.length&&r[g]==null;)g++;if(E!==C)te(t,e,z,e.length),q(t,r,g,r.length,n,f,c);else if(C){for(var $=e.length-1,F=r.length-1,ae,v,D,_,R,we;$>=z&&F>=g&&(_=e[$],R=r[F],_.key===R.key);)_!==R&&Q(t,_,R,n,f,c),R.dom!=null&&(f=R.dom),$--,F--;for(;$>=z&&F>=g&&(v=e[z],D=r[g],v.key===D.key);)z++,g++,v!==D&&Q(t,v,D,n,X(e,z,f),c);for(;$>=z&&F>=g&&!(g===F||v.key!==R.key||_.key!==D.key);)we=X(e,z,f),ee(t,_,we),_!==D&&Q(t,_,D,n,we,c),++g<=--F&&ee(t,v,f),v!==R&&Q(t,v,R,n,f,c),R.dom!=null&&(f=R.dom),z++,$--,_=e[$],R=r[F],v=e[z],D=r[g];for(;$>=z&&F>=g&&_.key===R.key;)_!==R&&Q(t,_,R,n,f,c),R.dom!=null&&(f=R.dom),$--,F--,_=e[$],R=r[F];if(g>F)te(t,e,z,$+1);else if(z>$)q(t,r,g,F+1,n,f,c);else{var Bt=f,ve=F-g+1,ie=new Array(ve),be=0,L=0,qe=2147483647,xe=0,ae,Te;for(L=0;L<ve;L++)ie[L]=-1;for(L=F;L>=g;L--){ae==null&&(ae=N(e,z,$+1)),R=r[L];var k=ae[R.key];k!=null&&(qe=k<qe?k:-1,ie[L-g]=k,_=e[k],e[k]=null,_!==R&&Q(t,_,R,n,f,c),R.dom!=null&&(f=R.dom),xe++)}if(f=Bt,xe!==$-z+1&&te(t,e,z,$+1),xe===0)q(t,r,g,F+1,n,f,c);else if(qe===-1)for(Te=M(ie),be=Te.length-1,L=F;L>=g;L--)D=r[L],ie[L-g]===-1?x(t,D,n,c,f):Te[be]===L-g?be--:ee(t,D,f),D.dom!=null&&(f=r[L].dom);else for(L=F;L>=g;L--)D=r[L],ie[L-g]===-1&&x(t,D,n,c,f),D.dom!=null&&(f=r[L].dom)}}else{var ye=e.length<r.length?e.length:r.length;for(g=g<z?g:z;g<ye;g++)v=e[g],D=r[g],!(v===D||v==null&&D==null)&&(v==null?x(t,D,n,c,X(e,g+1,f)):D==null?ne(t,v):Q(t,v,D,n,X(e,g+1,f),c));e.length>ye&&te(t,e,g,e.length),r.length>ye&&q(t,r,g,r.length,n,f,c)}}}function Q(t,e,r,n,f,c){var E=e.tag,C=r.tag;if(E===C&&e.is===r.is){if(r.state=e.state,r.events=e.events,Vt(r,e))return;if(typeof E=="string")switch(r.attrs!=null&&ge(r.attrs,r,n),E){case"#":j(e,r);break;case"<":y(t,e,r,c,f);break;case"[":A(t,e,r,n,f,c);break;default:b(e,r,n,c)}else I(t,e,r,n,f,c)}else ne(t,e),x(t,r,n,c,f)}function j(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}function y(t,e,r,n,f){e.children!==r.children?(Fe(t,e),U(t,r,n,f)):(r.dom=e.dom,r.domSize=e.domSize)}function A(t,e,r,n,f,c){B(t,e.children,r.children,n,f,c);var E=0,C=r.children;if(r.dom=null,C!=null){for(var g=0;g<C.length;g++){var z=C[g];z!=null&&z.dom!=null&&(r.dom==null&&(r.dom=z.dom),E+=z.domSize||1)}E!==1&&(r.domSize=E)}}function b(t,e,r,n){var f=e.dom=t.dom;n=h(e)||n,vt(e,t.attrs,e.attrs,n),W(e)||B(f,t.children,e.children,r,null,n)}function I(t,e,r,n,f,c){if(r.instance=Ne.normalize(a.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");ge(r.state,r,n),r.attrs!=null&&ge(r.attrs,r,n),r.instance!=null?(e.instance==null?x(t,r.instance,n,c,f):Q(t,e.instance,r.instance,n,f,c),r.dom=r.instance.dom,r.domSize=r.instance.domSize):e.instance!=null?(ne(t,e.instance),r.dom=void 0,r.domSize=0):(r.dom=e.dom,r.domSize=e.domSize)}function N(t,e,r){for(var n=Object.create(null);e<r;e++){var f=t[e];if(f!=null){var c=f.key;c!=null&&(n[c]=e)}}return n}var O=[];function M(t){for(var e=[0],r=0,n=0,f=0,c=O.length=t.length,f=0;f<c;f++)O[f]=t[f];for(var f=0;f<c;++f)if(t[f]!==-1){var E=e[e.length-1];if(t[E]<t[f]){O[f]=E,e.push(f);continue}for(r=0,n=e.length-1;r<n;){var C=(r>>>1)+(n>>>1)+(r&n&1);t[e[C]]<t[f]?r=C+1:n=C}t[f]<t[e[r]]&&(r>0&&(O[f]=e[r-1]),e[r]=f)}for(r=e.length,n=e[r-1];r-- >0;)e[r]=n,n=O[n];return O.length=0,e}function X(t,e,r){for(;e<t.length;e++)if(t[e]!=null&&t[e].dom!=null)return t[e].dom;return r}function ee(t,e,r){if(e.dom!=null){var n;if(e.domSize==null)n=e.dom;else{n=l(t).createDocumentFragment();for(var f of Re(e))n.appendChild(f)}K(t,n,r)}}function K(t,e,r){r!=null?t.insertBefore(e,r):t.appendChild(e)}function W(t){if(t.attrs==null||t.attrs.contenteditable==null&&t.attrs.contentEditable==null)return!1;var e=t.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var r=e[0].children;t.dom.innerHTML!==r&&(t.dom.innerHTML=r)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function te(t,e,r,n){for(var f=r;f<n;f++){var c=e[f];c!=null&&ne(t,c)}}function Me(t,e,r,n){var f=e.state,c=a.call(r.onbeforeremove,e);if(c!=null){var E=s;for(var C of Re(e))or.set(C,E);n.v++,Promise.resolve(c).finally(function(){o(e,f),Se(t,e,n)})}}function Se(t,e,r){--r.v===0&&(oe(e),Fe(t,e))}function ne(t,e){var r={v:1};typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"&&Me(t,e,e.state,r),e.attrs&&typeof e.attrs.onbeforeremove=="function"&&Me(t,e,e.attrs,r),Se(t,e,r)}function Fe(t,e){if(e.dom!=null)if(e.domSize==null)t.removeChild(e.dom);else for(var r of Re(e))t.removeChild(r)}function oe(t){if(typeof t.tag!="string"&&typeof t.state.onremove=="function"&&a.call(t.state.onremove,t),t.attrs&&typeof t.attrs.onremove=="function"&&a.call(t.attrs.onremove,t),typeof t.tag!="string")t.instance!=null&&oe(t.instance);else{var e=t.children;if(Array.isArray(e))for(var r=0;r<e.length;r++){var n=e[r];n!=null&&oe(n)}}}function Ht(t,e,r){for(var n in e)me(t,n,null,e[n],r)}function me(t,e,r,n,f){if(!(e==="key"||n==null||Ue(e)||r===n&&!Qt(t,e)&&typeof n!="object")){if(e[0]==="o"&&e[1]==="n")return $e(t,e,n);if(e.slice(0,6)==="xlink:")t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),n);else if(e==="style")_e(t.dom,r,n);else if(He(t,e,f)){if(e==="value"){if((t.tag==="input"||t.tag==="textarea")&&t.dom.value===""+n||t.tag==="select"&&r!==null&&t.dom.value===""+n||t.tag==="option"&&r!==null&&t.dom.value===""+n)return;if(t.tag==="input"&&t.attrs.type==="file"&&""+n!=""){console.error("`value` is read-only on file inputs!");return}}t.tag==="input"&&e==="type"?t.dom.setAttribute(e,n):t.dom[e]=n}else typeof n=="boolean"?n?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute(e==="className"?"class":e,n)}}function _t(t,e,r,n){if(!(e==="key"||r==null||Ue(e)))if(e[0]==="o"&&e[1]==="n")$e(t,e,void 0);else if(e==="style")_e(t.dom,r,null);else if(He(t,e,n)&&e!=="className"&&e!=="title"&&!(e==="value"&&(t.tag==="option"||t.tag==="select"&&t.dom.selectedIndex===-1&&t.dom===p(t.dom)))&&!(t.tag==="input"&&e==="type"))t.dom[e]=null;else{var f=e.indexOf(":");f!==-1&&(e=e.slice(f+1)),r!==!1&&t.dom.removeAttribute(e==="className"?"class":e)}}function $t(t,e){if("value"in e)if(e.value===null)t.dom.selectedIndex!==-1&&(t.dom.value=null);else{var r=""+e.value;(t.dom.value!==r||t.dom.selectedIndex===-1)&&(t.dom.value=r)}"selectedIndex"in e&&me(t,"selectedIndex",null,e.selectedIndex,void 0)}function vt(t,e,r,n){var f;if(e!=null){e===r&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major");for(var c in e)(f=e[c])!=null&&(r==null||r[c]==null)&&_t(t,c,f,n)}if(r!=null)for(var c in r)me(t,c,e&&e[c],r[c],n)}function Qt(t,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&(t.dom===p(t.dom)||t.tag==="option"&&t.dom.parentNode===p(t.dom))}function Ue(t){return t==="oninit"||t==="oncreate"||t==="onupdate"||t==="onremove"||t==="onbeforeremove"||t==="onbeforeupdate"}function He(t,e,r){return r===void 0&&(t.tag.indexOf("-")>-1||t.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in t.dom}function _e(t,e,r){if(e!==r)if(r==null)t.style="";else if(typeof r!="object")t.style=r;else if(e==null||typeof e!="object"){t.style="";for(var n in r){var f=r[n];f!=null&&(n.includes("-")?t.style.setProperty(n,String(f)):t.style[n]=String(f))}}else{for(var n in e)e[n]!=null&&r[n]==null&&(n.includes("-")?t.style.removeProperty(n):t.style[n]="");for(var n in r){var f=r[n];f!=null&&(f=String(f))!==String(e[n])&&(n.includes("-")?t.style.setProperty(n,f):t.style[n]=f)}}}function he(){this._=u}he.prototype=Object.create(null),he.prototype.handleEvent=function(t){var e=this["on"+t.type],r;typeof e=="function"?r=e.call(t.currentTarget,t):typeof e.handleEvent=="function"&&e.handleEvent(t),this._&&t.redraw!==!1&&(0,this._)(),r===!1&&(t.preventDefault(),t.stopPropagation())};function $e(t,e,r){if(t.events!=null){if(t.events._=u,t.events[e]===r)return;r!=null&&(typeof r=="function"||typeof r=="object")?(t.events[e]==null&&t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=r):(t.events[e]!=null&&t.dom.removeEventListener(e.slice(2),t.events,!1),t.events[e]=void 0)}else r!=null&&(typeof r=="function"||typeof r=="object")&&(t.events=new he,t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=r)}function pe(t,e,r){typeof t.oninit=="function"&&a.call(t.oninit,e),typeof t.oncreate=="function"&&r.push(a.bind(t.oncreate,e))}function ge(t,e,r){typeof t.onupdate=="function"&&r.push(a.bind(t.onupdate,e))}function Vt(t,e){do{if(t.attrs!=null&&typeof t.attrs.onbeforeupdate=="function"){var r=a.call(t.attrs.onbeforeupdate,t,e);if(r!==void 0&&!r)break}if(typeof t.tag!="string"&&typeof t.state.onbeforeupdate=="function"){var r=a.call(t.state.onbeforeupdate,t,e);if(r!==void 0&&!r)break}return!1}while(!1);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}var re;return function(t,e,r){if(!t)throw new TypeError("DOM element being rendered to does not exist.");if(re!=null&&t.contains(re))throw new TypeError("Node is currently being rendered to and thus is locked.");var n=u,f=re,c=[],E=p(t),C=t.namespaceURI;re=t,u=typeof r=="function"?r:void 0,s={};try{t.vnodes==null&&(t.textContent=""),e=Ne.normalizeChildren(Array.isArray(e)?e:[e]),B(t,t.vnodes,e,c,null,C==="http://www.w3.org/1999/xhtml"?void 0:C),t.vnodes=e,E!=null&&p(t)!==E&&typeof E.focus=="function"&&E.focus();for(var g=0;g<c.length;g++)c[g]()}finally{u=n,re=f}}}});var de=d((Sr,at)=>{"use strict";at.exports=nt()(typeof window<"u"?window:null)});var lt=d((Fr,ut)=>{"use strict";var ft=G();ut.exports=function(i,u,s){var l=[],h=!1,o=-1;function a(){for(o=0;o<l.length;o+=2)try{i(l[o],ft(l[o+1]),p)}catch(x){s.error(x)}o=-1}function p(){h||(h=!0,u(function(){h=!1,a()}))}p.sync=a;function q(x,T){if(T!=null&&T.view==null&&typeof T!="function")throw new TypeError("m.mount expects a component, not a vnode.");var P=l.indexOf(x);P>=0&&(l.splice(P,2),P<=o&&(o-=2),i(x,[])),T!=null&&(l.push(x,T),i(x,ft(T),p))}return{mount:q,redraw:p}}});var ue=d((Ur,st)=>{"use strict";var mr=de();st.exports=lt()(mr,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null)});var je=d((Hr,ct)=>{"use strict";ct.exports=function(i){if(Object.prototype.toString.call(i)!=="[object Object]")return"";var u=[];for(var s in i)l(s,i[s]);return u.join("&");function l(h,o){if(Array.isArray(o))for(var a=0;a<o.length;a++)l(h+"["+a+"]",o[a]);else if(Object.prototype.toString.call(o)==="[object Object]")for(var a in o)l(h+"["+a+"]",o[a]);else u.push(encodeURIComponent(h)+(o!=null&&o!==""?"="+encodeURIComponent(o):""))}}});var le=d((_r,ot)=>{"use strict";var hr=je();ot.exports=function(i,u){if(/:([^\/\.-]+)(\.{3})?:/.test(i))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(u==null)return i;var s=i.indexOf("?"),l=i.indexOf("#"),h=l<0?i.length:l,o=s<0?h:s,a=i.slice(0,o),p={};Object.assign(p,u);var q=a.replace(/:([^\/\.-]+)(\.{3})?/g,function(J,V,B){return delete p[V],u[V]==null?J:B?u[V]:encodeURIComponent(String(u[V]))}),x=q.indexOf("?"),T=q.indexOf("#"),P=T<0?q.length:T,U=x<0?P:x,w=q.slice(0,U);s>=0&&(w+=i.slice(s,h)),x>=0&&(w+=(s<0?"?":"&")+q.slice(x,P));var S=hr(p);return S&&(w+=(s<0&&x<0?"?":"&")+S),l>=0&&(w+=i.slice(l)),T>=0&&(w+=(l<0?"":"&")+q.slice(T)),w}});var pt=d(($r,ht)=>{"use strict";var pr=le(),mt=fe();ht.exports=function(i,u){function s(o){return new Promise(o)}function l(o,a){return new Promise(function(p,q){o=pr(o,a.params);var x=a.method!=null?a.method.toUpperCase():"GET",T=a.body,P=(a.serialize==null||a.serialize===JSON.serialize)&&!(T instanceof i.FormData||T instanceof i.URLSearchParams),U=a.responseType||(typeof a.extract=="function"?"":"json"),w=new i.XMLHttpRequest,S=!1,J=!1,V=w,B,Q=w.abort;w.abort=function(){S=!0,Q.call(this)},w.open(x,o,a.async!==!1,typeof a.user=="string"?a.user:void 0,typeof a.password=="string"?a.password:void 0),P&&T!=null&&!h(a,"content-type")&&w.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof a.deserialize!="function"&&!h(a,"accept")&&w.setRequestHeader("Accept","application/json, text/*"),a.withCredentials&&(w.withCredentials=a.withCredentials),a.timeout&&(w.timeout=a.timeout),w.responseType=U;for(var j in a.headers)mt.call(a.headers,j)&&w.setRequestHeader(j,a.headers[j]);w.onreadystatechange=function(y){if(!S&&y.target.readyState===4)try{var A=y.target.status>=200&&y.target.status<300||y.target.status===304||/^file:\/\//i.test(o),b=y.target.response,I;if(U==="json"){if(!y.target.responseType&&typeof a.extract!="function")try{b=JSON.parse(y.target.responseText)}catch{b=null}}else(!U||U==="text")&&b==null&&(b=y.target.responseText);if(typeof a.extract=="function"?(b=a.extract(y.target,a),A=!0):typeof a.deserialize=="function"&&(b=a.deserialize(b)),A){if(typeof a.type=="function")if(Array.isArray(b))for(var N=0;N<b.length;N++)b[N]=new a.type(b[N]);else b=new a.type(b);p(b)}else{var O=function(){try{I=y.target.responseText}catch{I=b}var M=new Error(I);M.code=y.target.status,M.response=b,q(M)};w.status===0?setTimeout(function(){J||O()}):O()}}catch(M){q(M)}},w.ontimeout=function(y){J=!0;var A=new Error("Request timed out");A.code=y.target.status,q(A)},typeof a.config=="function"&&(w=a.config(w,a,o)||w,w!==V&&(B=w.abort,w.abort=function(){S=!0,B.call(this)})),T==null?w.send():typeof a.serialize=="function"?w.send(a.serialize(T)):T instanceof i.FormData||T instanceof i.URLSearchParams?w.send(T):w.send(JSON.stringify(T))})}s.prototype=Promise.prototype,s.__proto__=Promise;function h(o,a){for(var p in o.headers)if(mt.call(o.headers,p)&&p.toLowerCase()===a)return!0;return!1}return{request:function(o,a){typeof o!="string"?(a=o,o=o.url):a==null&&(a={});var p=l(o,a);if(a.background===!0)return p;var q=0;function x(){--q===0&&typeof u=="function"&&u()}return T(p);function T(P){var U=P.then;return P.constructor=s,P.then=function(){q++;var w=U.apply(P,arguments);return w.then(x,function(S){if(x(),q===0)throw S}),T(w)},P}}}}});var yt=d((vr,gt)=>{"use strict";var gr=ue();gt.exports=pt()(typeof window<"u"?window:null,gr.redraw)});var Le=d((Qr,bt)=>{"use strict";function wt(i){try{return decodeURIComponent(i)}catch{return i}}bt.exports=function(i){if(i===""||i==null)return{};i.charAt(0)==="?"&&(i=i.slice(1));for(var u=i.split("&"),s={},l={},h=0;h<u.length;h++){var o=u[h].split("="),a=wt(o[0]),p=o.length===2?wt(o[1]):"";p==="true"?p=!0:p==="false"&&(p=!1);var q=a.split(/\]\[?|\[/),x=l;a.indexOf("[")>-1&&q.pop();for(var T=0;T<q.length;T++){var P=q[T],U=q[T+1],w=U==""||!isNaN(parseInt(U,10));if(P===""){var a=q.slice(0,T).join();s[a]==null&&(s[a]=Array.isArray(x)?x.length:0),P=s[a]++}else if(P==="__proto__")break;if(T===q.length-1)x[P]=p;else{var S=Object.getOwnPropertyDescriptor(x,P);S!=null&&(S=S.value),S==null&&(x[P]=S=w?[]:{}),x=S}}}return l}});var se=d((Vr,qt)=>{"use strict";var yr=Le();qt.exports=function(i){var u=i.indexOf("?"),s=i.indexOf("#"),l=s<0?i.length:s,h=u<0?l:u,o=i.slice(0,h).replace(/\/{2,}/g,"/");return o?o[0]!=="/"&&(o="/"+o):o="/",{path:o,params:u<0?{}:yr(i.slice(u+1,l))}}});var Tt=d((Br,xt)=>{"use strict";var wr=se();xt.exports=function(i){var u=wr(i),s=Object.keys(u.params),l=[],h=new RegExp("^"+u.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(o,a,p){return a==null?"\\"+o:(l.push({k:a,r:p==="..."}),p==="..."?"(.*)":p==="."?"([^/]+)\\.":"([^/]+)"+(p||""))})+"$");return function(o){for(var a=0;a<s.length;a++)if(u.params[s[a]]!==o.params[s[a]])return!1;if(!l.length)return h.test(o.path);var p=h.exec(o.path);if(p==null)return!1;for(var a=0;a<l.length;a++)o.params[l[a].k]=l[a].r?p[a+1]:decodeURIComponent(p[a+1]);return!0}}});var De=d((Kr,Pt)=>{"use strict";var Ot=fe(),Et=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");Pt.exports=function(i,u){var s={};if(u!=null)for(var l in i)Ot.call(i,l)&&!Et.test(l)&&u.indexOf(l)<0&&(s[l]=i[l]);else for(var l in i)Ot.call(i,l)&&!Et.test(l)&&(s[l]=i[l]);return s}});var Nt=d((Gr,zt)=>{"use strict";var br=G(),qr=Pe(),At=le(),Ct=se(),xr=Tt(),Tr=De(),Ie={};function Or(i){try{return decodeURIComponent(i)}catch{return i}}zt.exports=function(i,u){var s=i==null?null:typeof i.setImmediate=="function"?i.setImmediate:i.setTimeout,l=Promise.resolve(),h=!1,o=!1,a=0,p,q,x=Ie,T,P,U,w,S={onbeforeupdate:function(){return a=a?2:1,!(!a||Ie===x)},onremove:function(){i.removeEventListener("popstate",B,!1),i.removeEventListener("hashchange",V,!1)},view:function(){if(!(!a||Ie===x)){var y=[br(T,P.key,P)];return x&&(y=x.render(y[0])),y}}},J=j.SKIP={};function V(){h=!1;var y=i.location.hash;j.prefix[0]!=="#"&&(y=i.location.search+y,j.prefix[0]!=="?"&&(y=i.location.pathname+y,y[0]!=="/"&&(y="/"+y)));var A=y.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,Or).slice(j.prefix.length),b=Ct(A);Object.assign(b.params,i.history.state);function I(O){console.error(O),Q(q,null,{replace:!0})}N(0);function N(O){for(;O<p.length;O++)if(p[O].check(b)){var M=p[O].component,X=p[O].route,ee=M,K=w=function(W){if(K===w){if(W===J)return N(O+1);T=W!=null&&(typeof W.view=="function"||typeof W=="function")?W:"div",P=b.params,U=A,w=null,x=M.render?M:null,a===2?u.redraw():(a=2,u.redraw.sync())}};M.view||typeof M=="function"?(M={},K(ee)):M.onmatch?l.then(function(){return M.onmatch(b.params,A,X)}).then(K,A===q?null:I):K("div");return}if(A===q)throw new Error("Could not resolve default route "+q+".");Q(q,null,{replace:!0})}}function B(){h||(h=!0,s(V))}function Q(y,A,b){if(y=At(y,A),o){B();var I=b?b.state:null,N=b?b.title:null;b&&b.replace?i.history.replaceState(I,N,j.prefix+y):i.history.pushState(I,N,j.prefix+y)}else i.location.href=j.prefix+y}function j(y,A,b){if(!y)throw new TypeError("DOM element being rendered to does not exist.");if(p=Object.keys(b).map(function(N){if(N[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(N))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:N,component:b[N],check:xr(N)}}),q=A,A!=null){var I=Ct(A);if(!p.some(function(N){return N.check(I)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof i.history.pushState=="function"?i.addEventListener("popstate",B,!1):j.prefix[0]==="#"&&i.addEventListener("hashchange",V,!1),o=!0,u.mount(y,S),V()}return j.set=function(y,A,b){w!=null&&(b=b||{},b.replace=!0),w=null,Q(y,A,b)},j.get=function(){return U},j.prefix="#!",j.Link={view:function(y){var A=qr(y.attrs.selector||"a",Tr(y.attrs,["options","params","selector","onclick"]),y.children),b,I,N;return(A.attrs.disabled=!!A.attrs.disabled)?(A.attrs.href=null,A.attrs["aria-disabled"]="true"):(b=y.attrs.options,I=y.attrs.onclick,N=At(A.attrs.href,y.attrs.params),A.attrs.href=j.prefix+N,A.attrs.onclick=function(O){var M;typeof I=="function"?M=I.call(O.currentTarget,O):I==null||typeof I!="object"||typeof I.handleEvent=="function"&&I.handleEvent(O),M!==!1&&!O.defaultPrevented&&(O.button===0||O.which===0||O.which===1)&&(!O.currentTarget.target||O.currentTarget.target==="_self")&&!O.ctrlKey&&!O.metaKey&&!O.shiftKey&&!O.altKey&&(O.preventDefault(),O.redraw=!1,j.set(N,null,b))}),A}},j.param=function(y){return P&&y!=null?P[y]:P},j}});var dt=d((Jr,Rt)=>{"use strict";var Er=ue();Rt.exports=Nt()(typeof window<"u"?window:null,Er)});var Dt=d((Wr,Lt)=>{"use strict";var ce=et(),Pr=yt(),jt=ue(),Ar=ze(),H=function(){return ce.apply(this,arguments)};H.m=ce;H.trust=ce.trust;H.fragment=ce.fragment;H.Fragment="[";H.mount=jt.mount;H.route=dt();H.render=de();H.redraw=jt.redraw;H.request=Pr.request;H.parseQueryString=Le();H.buildQueryString=je();H.parsePathname=se();H.buildPathname=le();H.vnode=G();H.censor=De();H.domFor=Ar.domFor;Lt.exports=H});var Ut=Zt(Dt());var It={petitions:[],oninit:function(){m.request({method:"GET",url:"/api/petitions/top100"}).then(i=>this.petitions=i)},view:function(){return m("div",[m("h2","Top 100 Petitions"),m("ul",this.petitions.map(i=>m("li",[m("a",{href:"/petition/"+i.id,oncreate:m.route.link},i.title)]))),m("a",{href:"/create",oncreate:m.route.link},"Create Petition")])}};var Z={title:"",content:"",tags:""},Mt={view:function(){return m("form",{onsubmit:function(i){i.preventDefault(),m.request({method:"POST",url:"/api/petitions",body:Z}).then(()=>m.route.set("/"))}},[m("input[placeholder=Title]",{oninput:i=>Z.title=i.target.value,value:Z.title}),m("textarea[placeholder=Content]",{oninput:i=>Z.content=i.target.value,value:Z.content}),m("input[placeholder=Tags (comma-separated)]",{oninput:i=>Z.tags=i.target.value,value:Z.tags}),m("button[type=submit]","Submit")])}};var St={petition:{},oninit:function(i){m.request({method:"GET",url:`/api/petitions/${i.attrs.id}`}).then(u=>this.petition=u)},view:function(i){return m("div",[m("h2",this.petition.title),m("p",this.petition.content),m("p","Tags: "+this.petition.tags.join(", ")),m("button",{onclick:()=>{m.request({method:"POST",url:`/api/petitions/${i.attrs.id}/sign`})}},"Sign this Petition"),m("a",{href:`/signers/${i.attrs.id}`,oncreate:m.route.link},"View Signers")])}};var Ft={signers:[],oninit:function(i){let u=i.attrs.id;m.request({method:"GET",url:`/api/petitions/${u}/signers`}).then(s=>{this.signers=s})},view:function(i){return m("div",[m("h2","Signers of Petition "+i.attrs.id),this.signers.length===0?m("p","No signers yet."):m("ul",this.signers.map(u=>m("li",u.name||u.email||"Anonymous"))),m("a",{href:"/",oncreate:m.route.link},"\u2190 Back to list")])}};Ut.default.route(document.getElementById("app"),"/home",{"/home":It,"/create":Mt,"/petition/:id":St,"/signers/:id":Ft},{hashPrefix:"!"});})();
